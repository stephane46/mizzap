@baseUrl = http://localhost:3000

### 0. Register a new user (run this first!)
# @name register
POST {{baseUrl}}/api/v1/auth/register
Content-Type: application/json

{
  "email": "photo-test@example.com",
  "password": "TestPassword123!",
  "firstName": "Photo",
  "lastName": "Tester"
}

###

### 1. Login to get token
# @name login
POST {{baseUrl}}/api/v1/auth/login
Content-Type: application/json

{
  "email": "photo-test@example.com",
  "password": "TestPassword123!"
}

###

@accessToken = {{login.response.body.data.accessToken}}

### 2. Upload a Photo
# @name uploadPhoto
POST {{baseUrl}}/api/v1/photos/upload
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="photo"; filename="test-photo.jpg"
Content-Type: image/jpeg

< ./test-image.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

@photoId = {{uploadPhoto.response.body.data.id}}

### 3. List Photos
GET {{baseUrl}}/api/v1/photos?page=1&limit=20
Authorization: Bearer {{accessToken}}

###

### 4. Get Photo by ID
GET {{baseUrl}}/api/v1/photos/{{photoId}}
Authorization: Bearer {{accessToken}}

###

### 5. Get Thumbnail (small)
GET {{baseUrl}}/api/v1/photos/{{photoId}}/thumbnail?size=thumb
Authorization: Bearer {{accessToken}}

###

### 6. Get Thumbnail (preview)
GET {{baseUrl}}/api/v1/photos/{{photoId}}/thumbnail?size=preview
Authorization: Bearer {{accessToken}}

###

### 7. Delete Photo
DELETE {{baseUrl}}/api/v1/photos/{{photoId}}
Authorization: Bearer {{accessToken}}